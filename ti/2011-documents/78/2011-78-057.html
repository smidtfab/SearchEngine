<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="description" content="CrowdFlower's crowdsourcing solutions offer a cost-conscious, elastic workforce which gives companies immediate, high-quality work. CrowdFlower customers complete massive volumes of simple jobs and eliminate the lead time and overhead associated with hiring or outsourcing.">
  
  <title>CrowdFlower -  Documentation</title>
  
  <link rel="shortcut icon" href="/images/favicon.png" />
  
  <link media="all" charset="utf-8" type="text/css" rel="Stylesheet" href="/stylesheets/bundles/marketing_master.css?v=846c" />
  <link media="all" charset="utf-8" type="text/css" rel="Stylesheet" href="/stylesheets/bundles/marketing.css?v=1dd1" />
  <link media="all" charset="utf-8" type="text/css" rel="Stylesheet" href="/stylesheets/bundles/docs.css?v=ef25" />
  
  <script type="text/javascript" src="/javascripts/bundles/mootools.js?v=998c"></script>
  <script type="text/javascript" src="/javascripts/bundles/crowdflower_base.js?v=ef34"></script>
  <script type="text/javascript" src="/javascripts/bundles/docs.js?v=1751"></script>
  <script type="text/javascript" src="http://use.typekit.com/vyd2clc.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>

  <script type="text/javascript" charset="utf-8">
  <!--
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3841988-8']);
  _gaq.push(['_trackPageview']);
  
  (function() {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
      ga.src = "http://www.google-analytics.com/ga.js";
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
  })();
  //-->
</script>

  
  
  
</head>
<body class="marketing docs ">
  <div id="login_panel">
  <div id="login_container">
      <a href="#login_form" id="login_panel_tab">Login</a>
      <form action="/login" method="post" id="login_form" accept-charset="utf-8">
        <h2>Login 
            <a class="signup" href="/account/new">(or Signup)</a>
        </h2>
        <input type="hidden" name="_method" value="put">
        <label for="email">Email:</label> <input class="login_input" type="text" name="email" value="">
        <label for="password">Password:</label> <input class="login_input" type="password" name="password" value="">
    
        <input class="button" type="submit" value="Login" id="login_button">
      </form>
  </div>
</div>
  <div id="header">
    <div id="logo">
      <a title="CrowdFlower - Crowdsourcing / Labor-On-Demand" alt="CrowdFlower - Crowdsourcing / Labor-on-Demand" href="/">CrowdFlower</a>
    </div>
    <div class="phone_top">
Call us: <span class="lighter">415 - 651 - 4485</span> 
</div>
<ul id="main-nav">
    <li class=''><a href='/solutions'>Solutions</a></li>
    <li class=''><a href='/self_service'>Self Service</a></li>
    <li class=''><a href='/news'>News &amp; Events</a></li>
    <li><a href="http://blog.crowdflower.com/">Blog</a></li>
</ul> 

  </div>
  <div id="content">
    <ul class="sub-nav">
  <li class=''><a href='/docs/interface'>Requester Interface</a></li>
<li class=''><a href='/docs/gold'>Gold</a></li>
<li class='current'><a href='/docs/api'>API</a></li>
<li class=''><a href='/docs/cml'>CML</a></li>
<li class=''><a href='/docs/channel_api'>Channel API</a></li>

</ul>

    
    <h1 id='units'>Units</h1>

<p>A <code>Unit</code> represents information you want annotated. If you were to upload a spreadsheet of data, each row would be turned into a <code>Unit</code>. Each <code>Unit</code> for a particular <code>Job</code> should contain the same data. A <code>Unit</code> must belong to a <code>Job</code>.</p>

<p>When <code>Unit</code>s are created, they are not automatically ordered by default. If you want all <code>Unit</code>s added to a <code>Job</code> to be automatically ordered, set <code>auto_order</code> to <code>true</code> on your <code>Job</code>.</p>
<div class='maruku_toc'><ul style='list-style: none;'><li><a href='#attributes'>Attributes</a></li><li><a href='#results'>Results</a></li><li><a href='#methods'>Methods</a><ul style='list-style: none;'><li><a href='#common'>Common</a><ul style='list-style: none;'><li><a href='#parameters'>Parameters</a></li></ul></li><li><a href='#status'>Status</a><ul style='list-style: none;'><li><a href='#response'>Response</a></li></ul></li><li><a href='#cancel'>Cancel</a><ul style='list-style: none;'><li><a href='#response'>Response</a></li><li><a href='#curl_example'>cURL Example</a></li></ul></li><li><a href='#bulk_split'>Bulk Split</a><ul style='list-style: none;'><li><a href='#parameters'>Parameters</a></li><li><a href='#response'>Response</a></li><li><a href='#explanation_and_example'>Explanation and Example</a></li></ul></li></ul></li></ul></div>
<h2 id='attributes'>Attributes</h2>

<div class='attrs'>
<h3 id='read__write'>Read / Write</h3>

<ul>
<li>job_id</li>

<li>missed_count</li>

<li>difficulty</li>

<li>state</li>

<li>data</li>

<li>agreement</li>
</ul>
</div>

<div class='attrs last'>
<h3 id='readonly'>Read-only</h3>

<ul>
<li>updated_at</li>

<li>created_at</li>

<li>judgments_count</li>

<li>id</li>
</ul>
</div>
<br class='clear' />
<h2 id='results'>Results</h2>

<p>Any unit that has gathered trusted judgments will also have a <code>results</code> attribute.</p>

<p><code>results</code> has a top-level attribute <code>judgments</code>, which contains a JSON array of all the <code>Judgment</code>s that have been gathered so far during your job.</p>

<pre lang='javascript'><code class='javascript' lang='javascript'>&quot;results&quot; : {
  &quot;judgments&quot;    : [
    {&quot;job_id&quot;    : 5539,
     &quot;data&quot;      : {...},
     &quot;worker_id&quot; : 12,
     &quot;unit_id&quot;   : 1001,
     ...
    }, ...
    ]
  ...
}</code></pre>

<p>Any aggregate calculations that are done on your data will also be included in <code>results</code>. For example, if your job asks workers to visit a website and answer a series of questions about the website, your <code>results</code> structure might look like this:</p>

<pre lang='javascript'><code class='javascript' lang='javascript'>&quot;results&quot; : {
  &quot;what_is_the_url&quot; : { &quot;agg&quot; : &quot;http://blog.crowdflower.com&quot;,
                        &quot;confidence&quot; : &quot;0.9&quot; }
}</code></pre>

<p>See <a href='/docs/cml/aggregation'>aggregation</a> for more details on the types of aggregations that are possible.</p>

<h2 id='methods'>Methods</h2>

<h3 id='common'>Common</h3>
<table><thead><tr><th>Action</th><th>URL / Params</th><th>Verb</th></tr></thead><tbody><tr><td style='text-align: left;'>Create</td><td style='text-align: left;'>/jobs/<code>:job_id</code>/units</td><td style='text-align: left;'>POST</td>
</tr><tr><td style='text-align: left;'>Read</td><td style='text-align: left;'>/jobs/<code>:job_id</code>/units/(<code>:unit_id</code>)</td><td style='text-align: left;'>GET</td>
</tr><tr><td style='text-align: left;'>Update</td><td style='text-align: left;'>/jobs/<code>:job_id</code>/units/<code>:unit_id</code></td><td style='text-align: left;'>PUT</td>
</tr><tr><td style='text-align: left;'>Destroy</td><td style='text-align: left;'>/jobs/<code>:job_id</code>/units/<code>:unit_id</code></td><td style='text-align: left;'>DELETE</td>
</tr></tbody></table>
<h4 id='parameters'>Parameters</h4>

<div class='params'>
<p>Create and Update both accept the Read / Write attributes listed above. Be sure to prepend &#8220;unit&#8221; to each url parameter, e.g.</p>

<pre><code>unit[golden]=true&amp;unit[data][somekey]=Some+value</code></pre>
</div>

<p>If <code>auto_order</code> is enabled, the unit will be ordered as soon as it is created. If you have not set channels for this job, however, the unit will be saved successfully but will return the following error:</p>

<pre lang='javascript'><code class='javascript' lang='javascript'>{
  &quot;results&quot;: {
    &quot;judgments&quot;: []
  },
  &quot;created_at&quot;: &quot;2010-05-03T14:04:31-07:00&quot;,
  &quot;data&quot;: {
    &quot;name&quot;: &quot;pirate radio&quot;
  },
  &quot;updated_at&quot;: &quot;2010-05-03T14:04:31-07:00&quot;,
  &quot;judgments_count&quot;: 0,
  &quot;id&quot;: 735275,
  &quot;difficulty&quot;: 0,
  &quot;job_id&quot;: 124056,
   &quot;message&quot;: {
      &quot;error&quot;: &quot;Unit was successfully created, but it could not be ordered because channels have not been set for this job.&quot;
  },
  &quot;state&quot;: &quot;new&quot;
}</code></pre>

<h3 id='status'>Status</h3>

<p>If you are adding units from a spreadsheet or a feed, you can use <code>ping</code> to determine the status of the upload:</p>
<table><thead><tr><th>Action</th><th>URL / Params</th><th>Verb</th></tr></thead><tbody><tr><td style='text-align: left;'>Status</td><td style='text-align: left;'>/jobs/<code>:job_id</code>/units/ping</td><td style='text-align: left;'>GET</td>
</tr></tbody></table>
<h4 id='response'>Response</h4>

<p>Pending / processing:</p>

<pre lang='javascript'><code class='javascript' lang='javascript'>{
  &quot;done&quot;: false,
  &quot;count&quot;: 100
}</code></pre>

<p>Finished:</p>

<pre lang='javascript'><code class='javascript' lang='javascript'>{
  &quot;done&quot;: true,
  &quot;count&quot;: 200
}</code></pre>

<p>Failed:</p>

<pre lang='javascript'><code class='javascript' lang='javascript'>{
  &quot;done&quot;: false,
  &quot;count&quot;: 55,
  &quot;error&quot;: &quot;Unable to parse row 57. Please be sure your file is UTF-8 encoded.&quot;
}</code></pre>

<p>Although multiple queued uploads are allowed, <code>ping</code> only returns the status of the most recent upload.</p>

<h3 id='cancel'>Cancel</h3>

<p>If a unit has been ordered, you can use this method to cancel an individual unit. This action does not refund your account.</p>
<table><thead><tr><th>Action</th><th>URL / Params</th><th>Verb</th></tr></thead><tbody><tr><td style='text-align: left;'>Cancel</td><td style='text-align: left;'>/jobs/<code>:job_id</code>/units/<code>:unit_id</code>/cancel</td><td style='text-align: left;'>POST, PUT</td>
</tr></tbody></table>
<h4 id='response'>Response</h4>

<pre lang='javascript'><code class='javascript' lang='javascript'>{&quot;success&quot;:&quot;Unit 1038109 has been cancelled.&quot;}</code></pre>

<p>In case of an error processing the request, the error will appear in a JSON key called <code>error</code>:</p>

<pre lang='javascript'><code class='javascript' lang='javascript'>{&quot;error&quot;:&quot;Job 6245 does not contain Unit 1038109&quot;}</code></pre>

<h4 id='curl_example'>cURL Example</h4>

<pre><code>curl -X PUT https://api.crowdflower.com/v1/jobs/6245/units/1038109/cancel.json?key=XXX</code></pre>

<h3 id='bulk_split'>Bulk Split</h3>
<table><thead><tr><th>Action</th><th>URL / Params</th><th>Verb</th></tr></thead><tbody><tr><td style='text-align: left;'>Split</td><td style='text-align: left;'>/jobs(/<code>:job_id</code>)/units/split</td><td style='text-align: left;'>PUT</td>
</tr></tbody></table>
<h4 id='parameters'>Parameters</h4>

<div class='params'>
<dl>
<dt>on</dt>

<dd>A comma-delimited list of columns to be split.</dd>

<dt>with</dt>

<dd>The internal delimiter for the column. Default is the space character (&#8221; &#8220;).</dd>
</dl>
</div>

<h4 id='response'>Response</h4>

<p>A successful request will return a 200 &#8220;OK&#8221; response.</p>

<h4 id='explanation_and_example'>Explanation and Example</h4>

<p><strong>Note</strong>: You are <em>strongly</em> advised to post complex data formats to CrowdFlower using JSON rather than CSV. JSON is better suited for complex data &#8212; the <code>split</code> operation is provided as a convenience operation for existing datasets, and it is not recommended for new users.</p>

<p>If you upload a spreadsheet that has more complex data than a CSV can naturally represent, the <code>split</code> operation can be useful. Any of the columns of your uploaded CSV may be internally delimited by a special character (by default, a blank space). Calling <code>split</code> on this column will let CrowdFlower know that the contents of this column should be treated by CrowdFlower internally as a collection of discrete items rather than a block.</p>

<p>Suppose your existing dataset is an arbitrary collection of major authors.</p>

<pre><code>author,major_works,countries_active
Homer,The Iliad|The Odyssey,Greece
Dickens,David Copperfield|Bleak House,England
Nabokov,Camera Obscura|Lolita,Russia|United States
Rabelais,Gargantua and Pantagruel,France
Cervantes,Don Quixote,Spain</code></pre>

<p>When this data is posted as a CSV to CrowdFlower, one unit is created for each of the five rows of data. The units each have data associated with the three CSV columns provided. When initially posted, CrowdFlower treats all of the values transferred as free text values with no depth or structure. After the initial data post, Dickens&#8217; major works field is set to <nobr>"<b>David Copperfield|Bleak House.</b>"</nobr></p>

<p>To let CrowdFlower know that the <code>major_works</code> and <code>countries_active</code> columns are each actually collections of delimited values, you can use the <code>split</code> operation.</p>

<pre><code>PUT http://api.crowdflower.com/v1/jobs/job_id/units/split?on=major_works,countries_active&amp;with=|</code></pre>

<p>(Be careful to URL-encode the parameters &#8212; this is not done above for readability.)</p>

<p>After the PUT, CrowdFlower will consider Dickens&#8217; <code>major_works</code> field to be set to the collection <nobr>[ "David Copperfield", "Bleak House" ]</nobr>. Similarly, Nabokov&#8217;s <code>countries_active</code> field will be set to <nobr>[ "Russia", "United States" ]</nobr>. The square brackets here indicate a data structure that is analogous to a List or Vector in Java, a list in Python, an Array in Ruby, etc. If you were to request Homer&#8217;s <code>major_works</code> from CrowdFlower, it would be returned as a JSON array:</p>

<pre><code>major_works : [ &quot;The Iliad&quot;,&quot;The Odyssey&quot; ]</code></pre>

<p>Because the <code>author</code> field was not split, it will not be treated as a collection:</p>

<pre><code>author : &quot;Homer&quot;</code></pre>

<p>The preferred way to acheive this with CrowdFlower is by posting your data in a structured format with JSON.</p>
    <div class="docs_toc sidebar">
    <h2 class="top">API</h2>
    <ul>
        <li><a href="/docs/api/" >Overview</a></li>
        <li><a href="/docs/api/uploading/" >Uploading</a></li>
        <li><a href="/docs/api/jobs/" >Jobs</a></li>
        <li><a href="/docs/api/units/" class="current">Units</a></li>
        <li><a href="/docs/api/judgments/" >Judgments</a></li>
        <li><a href="/docs/api/orders/" >Orders</a></li>
        <li><a href="/docs/api/webhooks/" >Webhooks</a></li>
    </ul>
</div>
    <br class="clear">
  </div>
  
  <div id="footer">
    <div class="span-2">
      <h2>About</h2>
      <a href="/about">About CrowdFlower</a>
      <a href="/about/team/index">Team</a>
      <a href="/about/jobs">Jobs</a>
    </div>
    <div class="span-2">
      <h2>API</h2>
      <a href="/docs/interface">Requester Interface</a>
      <a href="/docs/gold">Gold</a>
      <a href="/docs/api">CrowdFlower API</a>
      <a href="/docs/cml">CML</a>
      <a href="/docs/channel_api">Channel API</a>
    </div>
    <div class="span-2">
      <h2>Solutions</h2>
      <a href="/solutions/blv/index">Business Listing Verification</a>
      <a href="/solutions/search_rel/index">Search Relevance</a>
      <a href="/solutions/prod_cat/index">Product Categorization</a>
      <a href="/solutions/custom/index">Custom Solutions</a>
    </div>
    <div class="span-2">
      <h2>Self-Service</h2>
      <a href="/self_service/faq">FAQ</a>
      <a href="/self_service">Overview</a>
    </div>
    <div class="span-2">
      <h2>News / Events</h2>
      <a href="/news">Coverage</a>
      <a href="/news/press_releases">Press Releases</a>
      <a href="/news/videos">Videos</a>
      <a href="/news/events">Events</a>
      <a href="/news/publications">Publications</a>
    </div>
    <div class="span-2 last">
      <h2>Social Media</h2>
      <a href="http://blog.crowdflower.com/">Blog</a>
      <a href="http://twitter.com/CrowdFlower">Twitter</a>
      <a href="http://facebook.com/CrowdFlower">Facebook</a>
      
      <h2>Law Talk</h2>
      <a href="/general/privacy">Privacy Policy</a>
      <a href="/general/terms_of_service">Terms of Service</a>
      <a href="http://www.crowdflower.com">&copy;2011 CrowdFlower</a>
    </div>
    <br class="clear" />
  </div>
  
  <script src="http://munchkin.marketo.net/munchkin.js" type="text/javascript"></script>

<script type="text/javascript">
  mktoMunchkin("890-IJH-613");
</script>

</body>
</html>
