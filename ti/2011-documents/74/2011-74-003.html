<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns:fb="http://www.facebook.com/2008/fbml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>reCAPTCHA helper and validation function (easy-to-use captcha)</title>
<meta name="site_url" content="http://www.devcomments.com">
<meta name="site_title" content="DevComments">
<meta name="site_description" content="Web dev and programming discussions forums">
<meta name="version_id" content="023ecc5e1958b67acc9689f2036d3e7d">
<meta name="session_uid" content="0">
<meta name="description" content="reCAPTCHA helper and validation function (easy-to-use captcha)">
<meta name="gfcid" content="17049702997151363681">
<meta name="fbappid" content="131516213553459">
<meta name="fbperms" content="email,publish_stream">
<link rel="shortcut icon" href="http://www.devcomments.com/favicon.ico">
<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/combo?2.8.0r4/build/reset-fonts-grids/reset-fonts-grids.css&amp;2.8.0r4/build/base/base-min.css&amp;2.8.0r4/build/assets/skins/sam/skin.css">
<link href="http://www.devcomments.com/main.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="http://yui.yahooapis.com/combo?2.8.0r4/build/utilities/utilities.js&amp;2.8.0r4/build/container/container-min.js&amp;2.8.0r4/build/menu/menu-min.js&amp;2.8.0r4/build/button/button-min.js&amp;2.8.0r4/build/datasource/datasource-min.js&amp;2.8.0r4/build/editor/editor-min.js&amp;2.8.0r4/build/json/json-min.js&amp;2.8.0r4/build/resize/resize-min.js&amp;2.8.0r4/build/tabview/tabview-min.js&amp;2.8.0r4/build/cookie/cookie-min.js&amp;2.8.1/build/imageloader/imageloader-min.js"></script>
</head>
<body class="yui-skin-sam">
<script type="text/javascript">
			(function(){
			var bsa = document.createElement('script');
			bsa.type = 'text/javascript';
			bsa.async = true;
			bsa.src = '//s3.buysellads.com/ac/bsa.js';
			(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
			})();
	</script><div id="fb-root"></div>
<script src="http://connect.facebook.net/en_US/all.js"></script><script>
			
			FB.init({appId: '131516213553459', status: true, cookie: true,
			xfbml: true});
				
			</script><div id="doc3" class="gbox">
<div id="hd" class="dheader">
<div id="cometestme" style="display:none;">&amp;</div>
<table class="siteHead" width="100%"><tr valign="top">
<td width="60%" class="siteName">
<div id="bTitle">Web dev and programming discussions forums</div>
<div class="pad20"><div id="bsap_1257702" class="bsarocks bsap_c1cb455e330922ed27ead60d49bdbfc0"></div></div>
</td>
<td width="40%" class="siteHeadRight"><div id="loginHead"><form xmlns:slash="http://purl.org/rss/1.0/modules/slash/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/" xmlns:itunes="http://www.itunes.com/dtds/podcast-1.0.dtd" xmlns:astyle="http://www.lampcms.com/xml/style" xmlns:lampcms="http://rssdata.lampcms.com/" xmlns:fb="http://www.facebook.com/2008/fbml" action="/index.php" method="post" name="frmLogin" id="frmLogin">
<input name="_qf__frmLogin" type="hidden" value="">
<input name="a" type="hidden" value="login">
<input name="r" type="hidden" value="Username and password are required">
<table border="0">
<tr>
<td>Username</td>
<td>
<input type="text" class="inlogin" name="login" id="login" size="15" accesskey="u" tabindex="1">
</td>
<td class="chkRemember" colspan="2" align="left" nowrap><label for="chkRemember">
<input name="chkRemember" type="checkbox" value="3" id="chkRemember">Remember me?</label></td>
</tr>
<tr>
<td><label for="pwd">Password</label></td>
<td><input type="password" name="pwd" class="inpwd" id="pwd" size="10" tabindex="4"></td>
<td align="left" class="btnGo"><input id="go" value="Log in" type="submit"></td>
<td><a href="/remindpwd/" class="forgot">Forgot password? </a></td>
</tr>
<tr>
<td></td>
<td colspan="3" align="left" class="signup"><a href="/register" class="signup">Create an account</a></td>
</tr>
<tr>
<td colspan="4" align="left" class="loginErr">
<div class="titleWarning" id="titleWarning"></div>
</td>
</tr>
<tr>
<td></td>
<td colspan="3" align="left">
<div class="extauth"><img id="twsignin" src="/images/signin.png" width="151" height="24" alt="Sign in with Twitter account"></div>	
<div class="extauth"><img id="fbsignup" src="/images/fblogin.png" width="154" height="22" alt="Sign in with Facebook account"></div>	
</td>
</tr>
<tr>
<td></td>
								<td colspan="3" align="left" class="gfc_signup">
								<div class="extauth"><img id="gfcsignin" src="/images/gfcbutton.jpg" width="226" height="40" alt="Sign in with Google Friend Connect"></div>			
								</td>
								</tr>
</table>
</form></div></td>
</tr></table>
<div id="secnav">
<div class="se"><a href="/lists/">List archives</a></div>
<div class="se"><a href="/videos/">Videos</a></div>
<div class="se"><a href="/questions/">Answers</a></div>
</div>
<div id="breadcrumb" class="solo">
<div class="bc">
<a href="/">Home</a> &gt;&gt; <a href="/forums/">Web forums</a> &gt;&gt; <a href="/to-CodeIgniter/">CodeIgniter</a> &gt;&gt; <a href="/to-CodeIgniter/200810/">October, 2008</a>
</div>
<div class="followus">
<div id="ttt"></div>
<span id="follow-twitterapi"><a href="http://twitter.com/devcomments"><img src="http://www.devcomments.com/images/icon/follow_on_twitter.png"></a></span>
</div>
<div id="ggbc">
<script type="text/javascript">
			google_ad_client = "pub-6314654110945947";
			/* 728x15, created 1/22/10 */
			google_ad_slot = "0830502987";
			google_ad_width = 728;
			google_ad_height = 15;
			</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</div>
</div>
<div id="bd"><div id="yui-main"><div class="yui-b">
<div id="title1"><h1>reCAPTCHA helper and validation function (easy-to-use captcha)</h1></div>
<table class="elmid" width="98%">
<tr><td colspan="2"></td></tr>
<tr valign="top">
<td width="210px" align="center">
<img src="http://www.gravatar.com/avatar/ff6ff64bf221f47498ea0c242fe4c602?s=75&amp;d=wavatar" alt=""><br><div class="ggsqr"></div>
<div id="sharebuttons">
<div id="meme"><script src="http://tweetmeme.com/i/scripts/button.js" type="text/javascript"></script></div>
<div id="buzzthis">
<a title="Post to Google Buzz" class="google-buzz-button" href="http://www.google.com/buzz/post" data-button-style="normal-count"></a><script type="text/javascript" src="http://www.google.com/buzz/api/button.js"></script>
</div>
<div id="delish"></div>
<div id="fbshare"><fb:like layout="button_count" width="120" font="verdana"></fb:like></div>
</div>
</td>
<td class="mebody"><table><tr>
<td width="50%" valign="top"><div class="com_body decodeable">

<p>This is a widely used captcha implementation. It&rsquo;s used at big sites like Facebook and CraigsList.</p>

<p><em>Steps to Use</em></p>

<p>1. Sign up for an access key at <a href="http://recaptcha.net/" rel="nofollow" target="_blank">http://recaptcha.net/</a></p>

<p>2. Get recaptchalib.php from the zip archive located at <a href="http://code.google.com/p/recaptcha/downloads/list?q=label:phplib-Latest" rel="nofollow" target="_blank">http://code.google.com/p/recaptcha/downloads/list?q=label:phplib-Latest</a>.</p>

<p>3. Rename recaptchalib.php to recaptcha_helper.php and put it in your helpers folder.</p>

<p>4. Add the following function to recaptcha_helper.php:
</p>
<div class="codeblock"><code><span style="color: #000000">
<span style="color: #007700">function </span><span style="color: #0000BB">recaptcha</span><span style="color: #007700">()<br></span><span style="color: #0000BB">{<br>&nbsp;&nbsp;&nbsp;&nbsp;$CI </span><span style="color: #007700">=&amp; </span><span style="color: #0000BB">get_instance</span><span style="color: #007700">();<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$CI</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">config</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #DD0000">'recaptcha'</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$public_key </span><span style="color: #007700">= </span><span style="color: #0000BB">$CI</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">config</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">item</span><span style="color: #007700">(</span><span style="color: #DD0000">'recaptcha_public_key'</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$message </span><span style="color: #007700">= isset(</span><span style="color: #0000BB">$CI</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">validation</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">recaptcha_error</span><span style="color: #007700">) <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;? </span><span style="color: #0000BB">$CI</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">validation</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">recaptcha_error </span><span style="color: #007700">: </span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;return </span><span style="color: #0000BB">recaptcha_get_html</span><span style="color: #007700">(</span><span style="color: #0000BB">$public_key</span><span style="color: #007700">, </span><span style="color: #0000BB">$message</span><span style="color: #007700">);<br></span><span style="color: #0000BB">} </span>
</span>
</code></div>

<p>4. Add the following function to your MY_Validation class as seen below in the libraries folder. (If you don&rsquo;t already have one a MY_Validation class, make one.)
</p>
<div class="codeblock"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&nbsp;&nbsp;</span><span style="color: #007700">if ( ! </span><span style="color: #0000BB">defined</span><span style="color: #007700">(</span><span style="color: #DD0000">'BASEPATH'</span><span style="color: #007700">)) exit(</span><span style="color: #DD0000">'No direct script access allowed'</span><span style="color: #007700">);<br>class </span><span style="color: #0000BB">MY_Validation </span><span style="color: #007700">extends </span><span style="color: #0000BB">CI_Validation<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function </span><span style="color: #0000BB">MY_Validation</span><span style="color: #007700">()<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent</span><span style="color: #007700">::</span><span style="color: #0000BB">CI_Validation</span><span style="color: #007700">();<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function </span><span style="color: #0000BB">recaptcha_matches</span><span style="color: #007700">()<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$CI </span><span style="color: #007700">=&amp; </span><span style="color: #0000BB">get_instance</span><span style="color: #007700">();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$CI</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">config</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #DD0000">'recaptcha'</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$public_key </span><span style="color: #007700">= </span><span style="color: #0000BB">$CI</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">config</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">item</span><span style="color: #007700">(</span><span style="color: #DD0000">'recaptcha_public_key'</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$private_key </span><span style="color: #007700">= </span><span style="color: #0000BB">$CI</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">config</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">item</span><span style="color: #007700">(</span><span style="color: #DD0000">'recaptcha_private_key'</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$response_field </span><span style="color: #007700">= </span><span style="color: #0000BB">$CI</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">post</span><span style="color: #007700">(</span><span style="color: #DD0000">'recaptcha_response_field'</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$challenge_field </span><span style="color: #007700">= </span><span style="color: #0000BB">$CI</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">input</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">post</span><span style="color: #007700">(</span><span style="color: #DD0000">'recaptcha_challenge_field'</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$response </span><span style="color: #007700">= </span><span style="color: #0000BB">recaptcha_check_answer</span><span style="color: #007700">(</span><span style="color: #0000BB">$private_key</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$_SERVER[</span><span style="color: #DD0000">'REMOTE_ADDR'</span><span style="color: #0000BB">]</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$challenge_field</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$response_field</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</span><span style="color: #0000BB">$response</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">is_valid</span><span style="color: #007700">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return </span><span style="color: #0000BB">TRUE</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">else <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$CI</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">validation</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">recaptcha_error </span><span style="color: #007700">= </span><span style="color: #0000BB">$response</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">error</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$CI</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">validation</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set_message</span><span style="color: #007700">(</span><span style="color: #DD0000">'recaptcha_matches'</span><span style="color: #007700">, </span><span style="color: #DD0000">'The %s is incorrect. Please try again.'</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </span><span style="color: #0000BB">FALSE</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>} </span>
</span>
</code></div>

<p>5. Create a recaptcha.php in your config folder and add your public and private keys (the ones you got from registering) as seen below:
</p>
<div class="codeblock"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&nbsp;&nbsp;</span><span style="color: #007700">if ( ! </span><span style="color: #0000BB">defined</span><span style="color: #007700">(</span><span style="color: #DD0000">'BASEPATH'</span><span style="color: #007700">)) exit(</span><span style="color: #DD0000">'No direct script access allowed'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$config[</span><span style="color: #DD0000">'recaptcha_public_key'</span><span style="color: #0000BB">] </span><span style="color: #007700">= </span><span style="color: #DD0000">"..."</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$config[</span><span style="color: #DD0000">'recaptcha_private_key'</span><span style="color: #0000BB">] </span><span style="color: #007700">= </span><span style="color: #DD0000">"..."</span><span style="color: #007700">; </span>
</span>
</code></div>

<p>Example usage in a controller:
</p>
<div class="codeblock"><code><span style="color: #000000">
<span style="color: #0000BB">public </span><span style="color: #007700">function </span><span style="color: #0000BB">register</span><span style="color: #007700">()<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">library</span><span style="color: #007700">(</span><span style="color: #DD0000">'validation'</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">helper</span><span style="color: #007700">(</span><span style="color: #DD0000">'recaptcha'</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$rules[</span><span style="color: #DD0000">'username'</span><span style="color: #0000BB">] </span><span style="color: #007700">= </span><span style="color: #DD0000">'trim|required|unique[users.username]'</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$rules[</span><span style="color: #DD0000">'password'</span><span style="color: #0000BB">] </span><span style="color: #007700">= </span><span style="color: #DD0000">'required|password|matches[password_confirm]'</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$rules[</span><span style="color: #DD0000">'password_confirm'</span><span style="color: #0000BB">] </span><span style="color: #007700">= </span><span style="color: #DD0000">'required'</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$rules[</span><span style="color: #DD0000">'email'</span><span style="color: #0000BB">] </span><span style="color: #007700">= </span><span style="color: #DD0000">'trim|required|valid_email|unique[users.email]'</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$rules[</span><span style="color: #DD0000">'recaptcha_challenge_field'</span><span style="color: #0000BB">] </span><span style="color: #007700">= </span><span style="color: #DD0000">'required|recaptcha_matches'</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">validation</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set_rules</span><span style="color: #007700">(</span><span style="color: #0000BB">$rules</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$fields[</span><span style="color: #DD0000">'username'</span><span style="color: #0000BB">] </span><span style="color: #007700">= </span><span style="color: #DD0000">'username'</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$fields[</span><span style="color: #DD0000">'password'</span><span style="color: #0000BB">] </span><span style="color: #007700">= </span><span style="color: #DD0000">'password'</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$fields[</span><span style="color: #DD0000">'password_confirm'</span><span style="color: #0000BB">] </span><span style="color: #007700">= </span><span style="color: #DD0000">'password confirmation'</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$fields[</span><span style="color: #DD0000">'email'</span><span style="color: #0000BB">] </span><span style="color: #007700">= </span><span style="color: #DD0000">'email'</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$fields[</span><span style="color: #DD0000">'recaptcha_challenge_field'</span><span style="color: #0000BB">] </span><span style="color: #007700">= </span><span style="color: #DD0000">'answer to the security question'</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">validation</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set_fields</span><span style="color: #007700">(</span><span style="color: #0000BB">$fields</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">validation</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">run</span><span style="color: #007700">() == </span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">view</span><span style="color: #007700">(</span><span style="color: #DD0000">'user_registration'</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">else <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo </span><span style="color: #DD0000">'Success!'</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">}<br>&nbsp;&nbsp;&nbsp;&nbsp;} </span>
</span>
</code></div>

<p>In the view, you can create the captcha form element by echoing &lt;?= recaptcha() ?&gt;<br>
I can package all of this into a zip file upon request.
</p>

</div></td>
<td class="tall" width="50%" valign="top"></td>
</tr></table></td>
</tr>
<tr>
<td></td>
<td align="left"><div class="linkout"><span class="viewwebforumitem" id="link21557">View Original Thread</span></div></td>
</tr>
<tr>
<td></td>
<td align="left"><div id="comformdiv">
	<div class="com_header rounded">
	<div class="com_head_label">Comments</div>
	<div class="com_head_count rounded">0</div>
	</div>
	<a name="com_label"></a>
	<span class="com_label rounded">Be the first to comment</span>
	<div class="com_connect">
	<h3>Join with account you already have</h3>
	<hr class="line1"/>
	<div class="extauth"><a href="#" onClick="oSL.Twitter.startDance(); return false"><img class="hand" src="/images/signin.png" width="151" height="24" alt="Sign in with Twitter account"/></a></div><div class="extauth"><a href="#" onClick="oSL.initFBSignup(); return false"><img class="hand" src="/images/fblogin.png" width="154" height="22" alt="Sign in with Facebook account"/></a></div><div class="extauth"><a href="#" onClick="google.friendconnect.requestSignIn(); return false;"><img class="hand" src="/images/gfcbutton.jpg" width="226" height="40" alt="Sign in with Google Friend Connect"/></a></div></div>
	<form class="comment_form" accept-charset="utf-8" action="/index.php" enctype="application/x-www-form-urlencoded" method="post" name="uForm">
<input name="a" type="hidden" value="rcomment">
<input name="token" type="hidden" value="023ecc5e1958b67acc9689f2036d3e7d">
<input name="rid" type="hidden" value="38694">
<input name="com_id" type="hidden" value="0">
<input name="qs" type="hidden" value="a=viewwebforumitem&fiid=21557&urltext=reCAPTCHA-helper-and-validation-function-easy-to-use-captcha">
<input name="pageID" type="hidden" value="0">
<table class="cform">
<tr> 
<td width="64px" valign="top" align="right" class="avt">
<img src="http://www.devcomments.com/w/img/avatar/sqr/user.jpg" class="imgAvatar" width="48" height="48" border="0" alt="avatar"/>
</td> 
<td> <!--  width="90%" -->
<TEXTAREA cols="40" rows="6" name="mbody" class="com_text com_hand" readonly="readonly"> Please login to comment</TEXTAREA>

</td> 
</tr> 
<tr> 
<td></td> 
<td align="right">
<input class="btn btn-m" type="submit" name="dostuff"  disabled="disabled" value="Post comment">
</td> 
</tr> 
</table> 
</form></div><div class="b_comments">
	
	<div class="clear">
	<a href="#com_label"><span class="com_label rounded">Add new comment</span></a>
	</div>
	
	</div></td>
</tr>
<tr>
<td class="tags" align="right">Tags:</td>
<td>
<span class="tags">function</span>, <span class="tags">add</span>
</td>
</tr>
<tr><td colspan="2" align="left"></td></tr>
<tr><td colspan="2" align="left"><div id="sims">
<ul class="yui-nav">
<li class="selected"><a href="#tab1"><em>Similar discussions topics</em></a></li>
<li><a href="#tab2"><em>ffi</em></a></li>
</ul>
<div class="yui-content">
<div id="tab1" class="similars">
<strong><a href="/Missing-helper-file-using-recaptcha-plugin-at105419.htm">Missing helper file using recaptcha plugin</a></strong><br>Mar 10, 2010<div class="com_body decodeable"> Hi!  The plugin http://www.holostek.net/recapthca-v0.8.0 doesn't work for me.  I'm using it in my Users controller:  class UsersController extends AppController {  var $name = 'Users';        var $components = array(       …</div>
<br><strong><a href="/Easy-Sort-Function-at48195.htm">Easy Sort Function</a></strong><br>Jan 2, 2010<div class="com_body decodeable"> I was wondering what would be the easiest way to sort (thru pagination) "tickets" based on a value in the ticket.   My tickets have a value in the table of 0,1,2, or 3 based on priority   So on the index page need 4 links then if clicked will pull...</div>
<br><strong><a href="/validation-how-do-I-call-a-function-to-perform-after-a-validation-is-done-at17194.htm">validation: how do I call a function to perform after a  validation is done?</a></strong><br>Nov 18, 2009<div class="com_body decodeable"> Do I have to create a custom method and stick a function in there?</div>
<br><strong><a href="/jQuery-helper-function-access-at9650.htm">jQuery helper function access</a></strong><br>Nov 9, 2009<div class="com_body decodeable"> Hi, there are a couple functions declared in jQuery such as genFx and num, that would be useful in other aspects of jQuery development, and other js activities. They are not attatched to the jQery ovbject. Is there any way currently to access them...</div>
<br><strong><a href="/Validation-plugin-two-fields-on-the-same-function-at59407.htm">Validation plugin: two fields on the same function?</a></strong><br>Jan 16, 2010<div class="com_body decodeable"> Hello everyone,  I'm using the validation plugin. I have a function which handles a field: it's required if the function returns true, otherwise it is not:                                   q[1]: {                                   required:...</div>
<br><strong><a href="/Using-the-ReCaptcha-Java-API-with-GWT-2-0-at60626.htm">Using the ReCaptcha Java API with GWT 2.0</a></strong><br>Jan 18, 2010<div class="com_body decodeable"> I am trying to integrate the opensource ReCaptcha on my GWT 2.0 app. I followed the instructions given at: http://wiki.recaptcha.net/index.php/Overview#Java.2FJSP And just like any added module, I added its JAR file to the lib directory and to the...</div>
<br><strong><a href="/Use-reCAPTCHA-with-nodejs-at212243.htm">Use reCAPTCHA with nodejs</a></strong><br>Jun 21, 2010<div class="com_body decodeable"> Hello,  Is it possible to use reCAPTCHA with nodejs? If yes could you please point me in the right direction.  Thank you.</div>
<br><strong><a href="/implementing-reCAPTCHA-at207423.htm">implementing reCAPTCHA</a></strong><br>Jun 16, 2010<div class="com_body decodeable"> Anyone here have implemented reCaptcha in GWT modules...?  I tried search on the web i found some cool stuff http://groups.google.com/group/Google-Web-Toolkit/browse_thread/thread/99c259aad06406c6 here.  but need some more explanation to implement…</div>
<br><strong><a href="/Adding-reCAPTCHA-to-form-using-PHP-at144112.htm">Re:  Adding reCAPTCHA to form using PHP</a></strong><br>Apr 19, 2010<div class="com_body decodeable"> On Mon, Apr 19, 2010 at 12:50 PM, tedd &lt;tedd.s### @gmail.com&gt; wrote: &gt; At 12:21 PM -0400 4/19/10, Ernie Kemp wrote: &gt;&gt; &gt;&gt; Need help with reCAPTCHA. Never installed it before. &gt;&gt; &gt;&gt; When Submit is clicked the…</div>
<br><strong><a href="/Can-we-Integrate-reCaptcha-with-GWT-FormPanel-at137922.htm">Can we Integrate reCaptcha with GWT FormPanel</a></strong><br>Apr 13, 2010<div class="com_body decodeable"> Hello Guys,                  First of i want to say thanks to all you for help me a lot. THANKS ONES AGAIN.  Now i have got stuck in an another  problem,  I want to reCaptcha into my GWT FormPanel, I don't know how to do this. I have done lot of…</div>
<br>
</div>
<div id="tab2" class="similars">
<strong><a href="/reCAPTCHA-helper-and-validation-function-easy-to-use-captcha-to21557.htm">reCAPTCHA helper and validation function (easy-to-use captcha)</a></strong><br><strong><a href="/Subject-Replace-captcha-with-reCaptcha-by-xillibit-to213519.htm">Subject: Replace captcha with reCaptcha - by: xillibit</a></strong><br><strong><a href="/Subject-Replace-captcha-with-reCaptcha-by-scaramusch-to212218.htm">Subject: Replace captcha with reCaptcha - by: scaramusch</a></strong><br><strong><a href="/Subject-Replace-captcha-with-reCaptcha-by-sozzled-to69937.htm">Subject: Replace captcha with reCaptcha - by: sozzled</a></strong><br><strong><a href="/ReCaptcha-plugin-always-give-invalid-captcha-to145848.htm">ReCaptcha plugin always give invalid captcha</a></strong><br><strong><a href="/custom-captcha-validation-when-checkbox-is-selected-Captcha-module-Form-api-to11005.htm">custom captcha validation when checkbox is selected - Captcha module - Form api</a></strong><br><strong><a href="/How-to-get-Captcha-or-Recaptcha-working-in-News-front-end-submit-to253334.htm">How to get Captcha or Recaptcha working in News front-end submit article?</a></strong><br><strong><a href="/Handle-Language-Validation-Mode-in-the-Form-Validation-Helper-to32394.htm">Handle Language / Validation Mode in the Form Validation Helper</a></strong><br><strong><a href="/reCaptcha-validation-via-Ajax-to271690.htm">reCaptcha validation via Ajax</a></strong><br><strong><a href="/Add-recaptcha-to-existing-form-validation-to100335.htm">Add recaptcha to existing form validation</a></strong><br>
</div>
</div>
</div></td></tr>
<tr><td colspan="2" align="left"></td></tr>
</table>
</div></div></div>
<div id="ft" class="footer">
<table><tr>
<td id="langForm"><form action="/index.php" method="post" name="fLangs" id="fLangs"><div>
<input name="_qf__fLangs" type="hidden" value=""><input name="a" type="hidden" value="lang"><table border="0">
<tr><td valign="top" align="left"><select id="splitbutton1select" name="lang"><option value="en">English </option>
<option value="ru">Russian </option></select></td></tr>
<tr><td valign="top" align="left"><input id="splitbutton1" value="Set Language" type="submit"></td></tr>
</table>
</div></form></td>
<td id="switchForm"></td>
</tr></table>
<div id="copyright">
			Copyright 2007 - 
            2011<span class="owner">

                Web dev and programming discussions forums</span>
</div>
<div id="powered"><span class="powered"><a href="/policy/">Privacy policy</a></span></div>
</div>
</div>
<script type="text/javascript" src="http://www.devcomments.com/js/include.js"></script>
				<!--
			Last js will go here
		--><script type="text/javascript" src="http://yui.yahooapis.com/combo?3.2.0/build/yui/yui-min.js&amp;3.2.0/build/loader/loader-min.js&amp;3.2.0/build/oop/oop-min.js&amp;3.2.0/build/dom/dom-min.js&amp;3.2.0/build/dom/dom-style-ie-min.js&amp;3.2.0/build/pluginhost/pluginhost-min.js&amp;3.2.0/build/event-custom/event-custom-min.js&amp;3.2.0/build/node/node-min.js&amp;3.2.0/build/event/event-min.js&amp;3.2.0/build/querystring/querystring-stringify-simple-min.js&amp;3.2.0/build/queue-promote/queue-promote-min.js&amp;3.2.0/build/datatype/datatype-xml-min.js&amp;3.2.0/build/io/io-min.js&amp;3.2.0/build/json/json-min.js"></script><script type="text/javascript" src="/js/comres.js"></script><!--
				last js script here
			--><!--
			dude...
		-->
				<div id="loaded"></div>
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
			<script>
				google.load('friendconnect', '0.8');
   			</script>
			
		<script>
		
	var initGfc = function(times) {
		if (times > 1) {
			window.top.location.reload(true);
		}
	};
	
	var onFriendConnectInitialized = function(st) {
		if(!window.friendconnect_times_loaded) {
			window.friendconnect_times_loaded = 1;
		} else {
			window.friendconnect_times_loaded++;
		}

		initGfc(window.friendconnect_times_loaded);
	};

	google.friendconnect.container.loadOpenSocialApi( {
	site : '17049702997151363681',
	onload : onFriendConnectInitialized
	});

if($ && $('div-6654067621488710046') && google){
	(function(){
	var skin = {};
					skin['BORDER_COLOR'] = '#cccccc';
					skin['ENDCAP_BG_COLOR'] = '#e0ecff';
					skin['ENDCAP_TEXT_COLOR'] =
					'#333333';
					skin['ENDCAP_LINK_COLOR'] = '#000080';
					skin['ALTERNATE_BG_COLOR'] = '#ffffff';
					skin['CONTENT_BG_COLOR'] =
					'#ffffff';
					skin['CONTENT_LINK_COLOR'] = '#000080';
					skin['CONTENT_TEXT_COLOR'] = '#333333';
					skin['CONTENT_SECONDARY_LINK_COLOR'] = '#7777cc';
					skin['CONTENT_SECONDARY_TEXT_COLOR'] = '#666666';
					skin['CONTENT_HEADLINE_COLOR'] = '#333333';
					skin['NUMBER_ROWS'] =
					'3';
					google.friendconnect.container.setParentUrl('/' /* location of
					rpc_relay.html and canvas.html */);
					google.friendconnect.container.renderMembersGadget(
					{ id:
					'div-6654067621488710046',
					site: '17049702997151363681' },
					skin);
					})();
	}


		</script>
		
		<script type="text/javascript">
			var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
			document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));		
			</script><script type="text/javascript">
			try {
			var pageTracker = _gat._getTracker("UA-12494427-1");
			pageTracker._trackPageview();
			} catch(err) {}
			</script>
					<script>
						var infolink_pid = 188931;
						var infolink_wsid = 0;
					</script>
					<script src="http://resources.infolinks.com/js/infolinks_main.js"></script>
</body>
</html>
