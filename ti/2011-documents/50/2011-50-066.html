<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">


<html>

<head>

<title>
Tips For Installing Recaptcha With Php | Installing Recaptcha 
</title>

<meta name="Keywords" content="tips for installing recaptcha with php, installing recaptcha, recaptcha, captcha">
<meta name="Description" content="I created Tips For Installing Recaptch With Php to remind myself how to install recaptcha with php on my websites.">

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<META NAME="ROBOTS" CONTENT="ALL">

<META HTTP-EQUIV="CONTENT-LANGUAGE" CONTENT="EN">
<META NAME="revisit-after" CONTENT="7 days">
<META NAME="Copyright" CONTENT="www.dlbnn.com">
<link rel="stylesheet" type="text/css" href="support-files/main3.css">
<link rel="stylesheet" type="text/css" href="support-files/nav3.css">
<link rel="stylesheet" type="text/css" href="support-files/divs3.css">
<link rel="stylesheet" type="text/css" href="support-files/rss.css">

<link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.dlbnn.com/free-online-articles-directory.xml">


</head>

<body oncontextmenu="return false">

<table width="1050px"  cellspacing="0" cellpadding="5" style="border:0px solid #003399;">
<tr>

<td class="hheaderbg" title="Free Online Articles Directory - Creating Free Articles Directory" colspan="3"></td>

</tr>

<tr><td colspan="3" class="nheaderbg">

<div class="top-nav-position">
<div class="top-nav">
<ul>
<li><a href="contact-us.html">Contact Us</a></li>
<li><a href="free-website-design-software.html">Free Website Design Software</a></li>
<li><a href="making-money-online.html">Making Money Online</a></li>
<li><a href="free-website-keyword-tools.html">Free Website Keyword Tools</a></li>           
<li><a href="privacy-policy.html">Privacy Policy</a></li>
<li><a href="sitemap.html" target="_blank" class="full-width-box">Sitemap</a></li>
</ul>
</div>
</div>


</td>
</tr>

<tr><td colspan="3" class="headerbg">

<p align="center">
<script type="text/javascript"><!--
google_ad_client = "pub-7114978550734342";
/* FAD Horizontal */
google_ad_slot = "6893245031";
google_ad_width = 728;
google_ad_height = 15;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</p>

</td>
</tr>

<tr >
<td class="spacerbg" valign="top" height="1"></td>

<td class="contentbg"  rowspan="2" valign="top" >

<!-- Start of StatCounter Code -->
<script type="text/javascript">
var sc_project=5216487; 
var sc_invisible=1; 
var sc_partition=59; 
var sc_click_stat=1; 
var sc_security="34627051"; 
</script>

<script type="text/javascript"
src="http://www.statcounter.com/counter/counter.js"></script><noscript><div
class="statcounter"><a title="wordpress analytics"
href="http://www.statcounter.com/wordpress.com/"
target="_blank"><img class="statcounter"
src="http://c.statcounter.com/5216487/0/34627051/1/"
alt="wordpress analytics" ></a></div></noscript>
<!-- End of StatCounter Code -->

<h1>Tips For Installing Recaptcha With Php</h1>

<p align="left">I created <strong>Tips For Installing Recaptch With Php</strong> to remind myself how to install recaptcha with php on my websites.</p>

<table align="center">
<tr>
<td>

<script type="text/javascript"><!--
google_ad_client = "pub-7114978550734342";
/* FAD CS */
google_ad_slot = "8746059210";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

<script type="text/javascript"><!--
google_ad_client = "pub-7114978550734342";
/* FAD CS */
google_ad_slot = "8746059210";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

</td>
</tr>
</table>

<br clear="all">

<h2 class="left">Tips For Installing Recaptcha With Php</h2>

<h3 class="left">1. Recaptcha provides private and public keys.</h3>

<p align="left">You can generate recaptcha private and public keys by going to the recaptcha website - www.recaptcha.net.</p>

<h3 class="left">2. This Form on the Webpage</h3>

<p align="left">This Form was generated by thesitewizard.com's Feedback Form Wizard. It must be placed on the web page. Place private keys in form - highlighted in red.</p>

<p align="left">&lt;form action=&quot;feedback.php&quot; method=&quot;post&quot;&gt;<br>
  &lt;table border=&quot;0&quot; cellpadding=&quot;8&quot; cellspacing=&quot;8&quot; summary=&quot;feedback form&quot; align=&quot;center&quot;&gt;<br>
  &lt;tr&gt;&lt;td&gt;&lt;label for=&quot;tswname&quot;&gt;Name&lt;/label&gt;:&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;fullname&quot; id=&quot;tswname&quot; size=&quot;37&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;<br>
  &lt;tr&gt;&lt;td&gt;&lt;label for=&quot;tswemail&quot;&gt;Email address&lt;/label&gt;:&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;tswemail&quot; name=&quot;email&quot; size=&quot;37&quot; /&gt;&lt;/td&gt;&lt;/tr&gt;<br>
  &lt;tr&gt;<br>
  &lt;td colspan=&quot;2&quot;&gt;<br>
  &lt;label for=&quot;tswcomments&quot;&gt;Comments&lt;/label&gt;&lt;br /&gt;<br>
  &lt;textarea rows=&quot;5&quot; cols=&quot;42&quot; name=&quot;comments&quot; id=&quot;tswcomments&quot;&gt;&lt;/textarea&gt;<br>
  &lt;/td&gt;<br>
  &lt;/tr&gt;<br>
  &lt;tr&gt;<br>
  &lt;td align=&quot;center&quot; colspan=&quot;2&quot;&gt;<br>
  &lt;script type=&quot;text/javascript&quot; src=&quot;http://api.recaptcha.net/challenge?k=<font color="#FF0000">Put Recaptcha Public Key Here</font>&quot;&gt;&lt;/script&gt;<br>
  &lt;noscript&gt;<br>
  &lt;iframe src=&quot;http://api.recaptcha.net/noscript?k=<font color="#FF0000">Put Recaptcha Public Key Here</font>&quot; height=&quot;300&quot; width=&quot;500&quot; frameborder=&quot;0&quot; title=&quot;CAPTCHA test&quot;&gt;&lt;/iframe&gt;<br>
  &lt;br /&gt;<br>
  &lt;label for=&quot;tswcaptcha&quot;&gt;Copy and paste the code provided in above box here:&lt;/label&gt;&lt;br /&gt;<br>
  &lt;textarea name=&quot;recaptcha_challenge_field&quot; id=&quot;tswcaptcha&quot; rows=&quot;3&quot; cols=&quot;40&quot;&gt;&lt;/textarea&gt;<br>
  &lt;input type=&quot;hidden&quot; name=&quot;recaptcha_response_field&quot; value=&quot;manual_challenge&quot; /&gt;<br>
  &lt;/noscript&gt;<br>
  &lt;/td&gt;<br>
  &lt;/tr&gt;<br>
  &lt;tr&gt;<br>
  &lt;td align=&quot;center&quot; colspan=&quot;2&quot;&gt;<br>
  &lt;input type=&quot;submit&quot; value=&quot;SUBMIT&quot; /&gt;&lt;br /&gt;<br>
  &lt;/td&gt;<br>
  &lt;/tr&gt;<br>
  &lt;/table&gt;<br>
  &lt;/form&gt;<br>
  
  </p>

<h3 class="left">3. Feedback Php file in Directory</h3>

<p align="left">This feedback.php was generated by thesitewizard.com's feedback form wizard. The feedback.php must be placed into the main directory with recaptcha.php. Place public key in feedback.php - highlighted in red. Place website name in appropriate places - highlighted in red. Place email address in the appropriate place - highlighted in red.</p>



<p align="left">&lt;?php<br>
  /*<br>
  CHFEEDBACK.PHP Feedback Form PHP Script Ver 2.15.0<br>
  Generated by thesitewizard.com's Feedback Form Wizard 2.15.0.<br>
  Copyright 2000-2009 by Christopher Heng. All rights reserved.<br>
  thesitewizard is a trademark of Christopher Heng.</p>
<p> Get the latest version, free, from:<br>
  http://www.thesitewizard.com/wizards/feedbackform.shtml</p>
<p> You can read the Frequently Asked Questions (FAQ) at:<br>
  http://www.thesitewizard.com/wizards/faq.shtml<br>
  <br>
  I can be contacted at:<br>
  http://www.thesitewizard.com/feedback.php<br>
  Note that I do not normally respond to questions that have<br>
  already been answered in the FAQ, so *please* read the FAQ.</p>
<p> LICENCE TERMS<br>
  <br>
  1. You may use this script on your website, with or<br>
  without modifications, free of charge.<br>
  <br>
  2. You may NOT distribute or republish this script,<br>
  whether modified or not. The script can only be<br>
  distributed by the author, Christopher Heng.<br>
  <br>
  3. THE SCRIPT AND ITS DOCUMENTATION ARE PROVIDED<br>
  &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, NOT EVEN THE<br>
  IMPLIED WARRANTY OF MERCHANTABILITY OR FITNESS FOR A<br>
  PARTICULAR PURPOSE. YOU AGREE TO BEAR ALL RISKS AND<br>
  LIABILITIES ARISING FROM THE USE OF THE SCRIPT,<br>
  ITS DOCUMENTATION AND THE INFORMATION PROVIDED BY THE<br>
  SCRIPTS AND THE DOCUMENTATION.</p>
<p> If you cannot agree to any of the above conditions, you<br>
  may not use the script. <br>
  <br>
  Although it is not required, I would be most grateful<br>
  if you could also link to thesitewizard.com at:</p>
<p> http://www.thesitewizard.com/</p>
<p>*/</p>
<p>// ------------- CONFIGURABLE SECTION ------------------------</p>
<p>// $mailto - set to the email address you want the form<br>
  // sent to, eg<br>
  //$mailto		= &quot;youremailaddress@example.com&quot; ;</p>
<p>$mailto = '<font color="#FF0000">email-address-here</font>' ;</p>
<p>// $subject - set to the Subject line of the email, eg<br>
  //$subject	= &quot;Feedback Form&quot; ;</p>
<p>$subject = &quot;Feedback Form&quot; ;</p>
<p>// the pages to be displayed, eg<br>
  //$formurl		= &quot;http://www.example.com/feedback.html&quot; ;<br>
  //$errorurl		= &quot;http://www.example.com/error.html&quot; ;<br>
  //$thankyouurl	= &quot;http://www.example.com/thankyou.html&quot; ;</p>
<p>$formurl = &quot;http://www.<font color="#FF0000">website-name-here</font>/contact-us.html&quot; ;<br>
  $errorurl = &quot;http://www.<font color="#FF0000">website-name-here</font>/error.html&quot; ;<br>
  $thankyouurl = &quot;http://www.<font color="#FF0000">website-name-here</font>/thankyou.html&quot; ;</p>
<p>$email_is_required = 1;<br>
  $name_is_required = 1;<br>
  $comments_is_required = 1;<br>
  $uself = 0;<br>
  $use_envsender = 0;<br>
  $use_sendmailfrom = 0;<br>
  $use_webmaster_email_for_from = 0;<br>
  $use_utf8 = 1;<br>
  $my_recaptcha_private_key = '<font color="#FF0000">Put Recaptcha Private Key Here</font>' ;</p>
<p>// -------------------- END OF CONFIGURABLE SECTION ---------------</p>
<p>$headersep = (!isset( $uself ) || ($uself == 0)) ? &quot;\r\n&quot; : &quot;\n&quot; ;<br>
  $content_type = (!isset( $use_utf8 ) || ($use_utf8 == 0)) ? 'Content-Type: text/plain; charset=&quot;iso-8859-1&quot;' : 'Content-Type: text/plain; charset=&quot;utf-8&quot;' ;<br>
  if (!isset( $use_envsender )) { $use_envsender = 0 ; }<br>
  if (isset( $use_sendmailfrom ) &amp;&amp; $use_sendmailfrom) {<br>
  ini_set( 'sendmail_from', $mailto );<br>
  }<br>
  $envsender = &quot;-f$mailto&quot; ;<br>
  $fullname = (isset($_POST['fullname']))? $_POST['fullname'] : $_POST['name'] ;<br>
  $email = $_POST['email'] ;<br>
  $comments = $_POST['comments'] ;<br>
  $http_referrer = getenv( &quot;HTTP_REFERER&quot; );</p>
<p>if (!isset($_POST['email'])) {<br>
  header( &quot;Location: $formurl&quot; );<br>
  exit ;<br>
  }<br>
  if (($email_is_required &amp;&amp; (empty($email) || !preg_match('/@/', $email))) || ($name_is_required &amp;&amp; empty($fullname)) || ($comments_is_required &amp;&amp; empty($comments))) {<br>
  header( &quot;Location: $errorurl&quot; );<br>
  exit ;<br>
  }<br>
  if ( preg_match( &quot;/[\r\n]/&quot;, $fullname ) || preg_match( &quot;/[\r\n]/&quot;, $email ) ) {<br>
  header( &quot;Location: $errorurl&quot; );<br>
  exit ;<br>
  }<br>
  if (strlen( $my_recaptcha_private_key )) {<br>
  require_once( 'recaptchalib.php' );<br>
  $resp = recaptcha_check_answer ( $my_recaptcha_private_key, $_SERVER['REMOTE_ADDR'], $_POST['recaptcha_challenge_field'], $_POST['recaptcha_response_field'] );<br>
  if (!$resp-&gt;is_valid) {<br>
  header( &quot;Location: $errorurl&quot; );<br>
  exit ;<br>
  }<br>
  }<br>
  if (empty($email)) {<br>
  $email = $mailto ;<br>
  }<br>
  $fromemail = (!isset( $use_webmaster_email_for_from ) || ($use_webmaster_email_for_from == 0)) ? $email : $mailto ;</p>
<p>if (function_exists( 'get_magic_quotes_gpc' ) &amp;&amp; get_magic_quotes_gpc()) {<br>
  $comments = stripslashes( $comments );<br>
  }</p>
<p>$messageproper =<br>
  &quot;This message was sent from:\n&quot; .<br>
  &quot;$http_referrer\n&quot; .<br>
  &quot;------------------------------------------------------------\n&quot; .<br>
  &quot;Name of sender: $fullname\n&quot; .<br>
  &quot;Email of sender: $email\n&quot; .<br>
  &quot;------------------------- COMMENTS -------------------------\n\n&quot; .<br>
  $comments .<br>
  &quot;\n\n------------------------------------------------------------\n&quot; ;</p>
<p>$headers =<br>
  &quot;From: \&quot;$fullname\&quot; &lt;$fromemail&gt;&quot; . $headersep . &quot;Reply-To: \&quot;$fullname\&quot; &lt;$email&gt;&quot; . $headersep . &quot;X-Mailer: chfeedback.php 2.15.0&quot; .<br>
  $headersep . 'MIME-Version: 1.0' . $headersep . $content_type ;</p>
<p>if ($use_envsender) {<br>
  mail($mailto, $subject, $messageproper, $headers, $envsender );<br>
  }<br>
  else {<br>
  mail($mailto, $subject, $messageproper, $headers );<br>
  }<br>
  header( &quot;Location: $thankyouurl&quot; );<br>
  exit ;</p>
<p>?&gt;</p>

<h3 class="left">4. Recaptcha Php in Directory</h3>

<p align="left">Copy and paste recaptcha.php file into main directory. Remember that feedback.php and recaptcha.php must be in the same directory.</p>

<p>&lt;?php<br>
  /*<br>
  * This is a PHP library that handles calling reCAPTCHA.<br>
  *    - Documentation and latest version<br>
  *          http://recaptcha.net/plugins/php/<br>
  *    - Get a reCAPTCHA API Key<br>
  *          http://recaptcha.net/api/getkey<br>
  *    - Discussion group<br>
  *          http://groups.google.com/group/recaptcha<br>
  *<br>
  * Copyright (c) 2007 reCAPTCHA -- http://recaptcha.net<br>
  * AUTHORS:<br>
  *   Mike Crawford<br>
  *   Ben Maurer<br>
  *<br>
  * Permission is hereby granted, free of charge, to any person obtaining a copy<br>
  * of this software and associated documentation files (the &quot;Software&quot;), to deal<br>
  * in the Software without restriction, including without limitation the rights<br>
  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell<br>
  * copies of the Software, and to permit persons to whom the Software is<br>
  * furnished to do so, subject to the following conditions:<br>
  *<br>
  * The above copyright notice and this permission notice shall be included in<br>
  * all copies or substantial portions of the Software.<br>
  *<br>
  * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR<br>
  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,<br>
  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE<br>
  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER<br>
  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,<br>
  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN<br>
  * THE SOFTWARE.<br>
  */</p>
<p>/**<br>
  * The reCAPTCHA server URL's<br>
  */<br>
  define(&quot;RECAPTCHA_API_SERVER&quot;, &quot;http://api.recaptcha.net&quot;);<br>
  define(&quot;RECAPTCHA_API_SECURE_SERVER&quot;, &quot;https://api-secure.recaptcha.net&quot;);<br>
  define(&quot;RECAPTCHA_VERIFY_SERVER&quot;, &quot;api-verify.recaptcha.net&quot;);</p>
<p>/**<br>
  * Encodes the given data into a query string format<br>
  * @param $data - array of string elements to be encoded<br>
  * @return string - encoded request<br>
  */<br>
  function _recaptcha_qsencode ($data) {<br>
  $req = &quot;&quot;;<br>
  foreach ( $data as $key =&gt; $value )<br>
  $req .= $key . '=' . urlencode( stripslashes($value) ) . '&amp;';</p>
<p> // Cut the last '&amp;'<br>
  $req=substr($req,0,strlen($req)-1);<br>
  return $req;<br>
  }</p>
<p>&nbsp;</p>
<p>/**<br>
  * Submits an HTTP POST to a reCAPTCHA server<br>
  * @param string $host<br>
  * @param string $path<br>
  * @param array $data<br>
  * @param int port<br>
  * @return array response<br>
  */<br>
  function _recaptcha_http_post($host, $path, $data, $port = 80) {</p>
<p> $req = _recaptcha_qsencode ($data);</p>
<p> $http_request  = &quot;POST $path HTTP/1.0\r\n&quot;;<br>
  $http_request .= &quot;Host: $host\r\n&quot;;<br>
  $http_request .= &quot;Content-Type: application/x-www-form-urlencoded;\r\n&quot;;<br>
  $http_request .= &quot;Content-Length: &quot; . strlen($req) . &quot;\r\n&quot;;<br>
  $http_request .= &quot;User-Agent: reCAPTCHA/PHP\r\n&quot;;<br>
  $http_request .= &quot;\r\n&quot;;<br>
  $http_request .= $req;</p>
<p> $response = '';<br>
  if( false == ( $fs = @fsockopen($host, $port, $errno, $errstr, 10) ) ) {<br>
  die ('Could not open socket');<br>
  }</p>
<p> fwrite($fs, $http_request);</p>
<p> while ( !feof($fs) )<br>
  $response .= fgets($fs, 1160); // One TCP-IP packet<br>
  fclose($fs);<br>
  $response = explode(&quot;\r\n\r\n&quot;, $response, 2);</p>
<p> return $response;<br>
  }</p>
<p>&nbsp;</p>
<p>/**<br>
  * Gets the challenge HTML (javascript and non-javascript version).<br>
  * This is called from the browser, and the resulting reCAPTCHA HTML widget<br>
  * is embedded within the HTML form it was called from.<br>
  * @param string $pubkey A public key for reCAPTCHA<br>
  * @param string $error The error given by reCAPTCHA (optional, default is null)<br>
  * @param boolean $use_ssl Should the request be made over ssl? (optional, default is false)</p>
<p> * @return string - The HTML to be embedded in the user's form.<br>
  */<br>
  function recaptcha_get_html ($pubkey, $error = null, $use_ssl = false)<br>
  {<br>
  if ($pubkey == null || $pubkey == '') {<br>
  die (&quot;To use reCAPTCHA you must get an API key from &lt;a href='http://recaptcha.net/api/getkey'&gt;http://recaptcha.net/api/getkey&lt;/a&gt;&quot;);<br>
  }<br>
  <br>
  if ($use_ssl) {<br>
  $server = RECAPTCHA_API_SECURE_SERVER;<br>
  } else {<br>
  $server = RECAPTCHA_API_SERVER;<br>
  }</p>
<p> $errorpart = &quot;&quot;;<br>
  if ($error) {<br>
  $errorpart = &quot;&amp;amp;error=&quot; . $error;<br>
  }<br>
  return '&lt;script type=&quot;text/javascript&quot; src=&quot;'. $server . '/challenge?k=' . $pubkey . $errorpart . '&quot;&gt;&lt;/script&gt;</p>
<p> &lt;noscript&gt;<br>
  &lt;iframe src=&quot;'. $server . '/noscript?k=' . $pubkey . $errorpart . '&quot; height=&quot;300&quot; width=&quot;500&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;br/&gt;<br>
  &lt;textarea name=&quot;recaptcha_challenge_field&quot; rows=&quot;3&quot; cols=&quot;40&quot;&gt;&lt;/textarea&gt;<br>
  &lt;input type=&quot;hidden&quot; name=&quot;recaptcha_response_field&quot; value=&quot;manual_challenge&quot;/&gt;<br>
  &lt;/noscript&gt;';<br>
  }<br>
</p>
<p>&nbsp;</p>
<p>/**<br>
  * A ReCaptchaResponse is returned from recaptcha_check_answer()<br>
  */<br>
  class ReCaptchaResponse {<br>
  var $is_valid;<br>
  var $error;<br>
  }<br>
</p>
<p>/**<br>
  * Calls an HTTP POST function to verify if the user's guess was correct<br>
  * @param string $privkey<br>
  * @param string $remoteip<br>
  * @param string $challenge<br>
  * @param string $response<br>
  * @param array $extra_params an array of extra variables to post to the server<br>
  * @return ReCaptchaResponse<br>
  */<br>
  function recaptcha_check_answer ($privkey, $remoteip, $challenge, $response, $extra_params = array())<br>
  {<br>
  if ($privkey == null || $privkey == '') {<br>
  die (&quot;To use reCAPTCHA you must get an API key from &lt;a href='http://recaptcha.net/api/getkey'&gt;http://recaptcha.net/api/getkey&lt;/a&gt;&quot;);<br>
  }</p>
<p> if ($remoteip == null || $remoteip == '') {<br>
  die (&quot;For security reasons, you must pass the remote ip to reCAPTCHA&quot;);<br>
  }</p>
<p> <br>
  <br>
  //discard spam submissions<br>
  if ($challenge == null || strlen($challenge) == 0 || $response == null || strlen($response) == 0) {<br>
  $recaptcha_response = new ReCaptchaResponse();<br>
  $recaptcha_response-&gt;is_valid = false;<br>
  $recaptcha_response-&gt;error = 'incorrect-captcha-sol';<br>
  return $recaptcha_response;<br>
  }</p>
<p> $response = _recaptcha_http_post (RECAPTCHA_VERIFY_SERVER, &quot;/verify&quot;,<br>
  array (<br>
  'privatekey' =&gt; $privkey,<br>
  'remoteip' =&gt; $remoteip,<br>
  'challenge' =&gt; $challenge,<br>
  'response' =&gt; $response<br>
  ) + $extra_params<br>
  );</p>
<p> $answers = explode (&quot;\n&quot;, $response [1]);<br>
  $recaptcha_response = new ReCaptchaResponse();</p>
<p> if (trim ($answers [0]) == 'true') {<br>
  $recaptcha_response-&gt;is_valid = true;<br>
  }<br>
  else {<br>
  $recaptcha_response-&gt;is_valid = false;<br>
  $recaptcha_response-&gt;error = $answers [1];<br>
  }<br>
  return $recaptcha_response;</p>
<p>}</p>
<p>/**<br>
  * gets a URL where the user can sign up for reCAPTCHA. If your application<br>
  * has a configuration page where you enter a key, you should provide a link<br>
  * using this function.<br>
  * @param string $domain The domain where the page is hosted<br>
  * @param string $appname The name of your application<br>
  */<br>
  function recaptcha_get_signup_url ($domain = null, $appname = null) {<br>
  return &quot;http://recaptcha.net/api/getkey?&quot; .  _recaptcha_qsencode (array ('domain' =&gt; $domain, 'app' =&gt; $appname));<br>
  }</p>
<p>function _recaptcha_aes_pad($val) {<br>
  $block_size = 16;<br>
  $numpad = $block_size - (strlen ($val) % $block_size);<br>
  return str_pad($val, strlen ($val) + $numpad, chr($numpad));<br>
  }</p>
<p>/* Mailhide related code */</p>
<p>function _recaptcha_aes_encrypt($val,$ky) {<br>
  if (! function_exists (&quot;mcrypt_encrypt&quot;)) {<br>
  die (&quot;To use reCAPTCHA Mailhide, you need to have the mcrypt php module installed.&quot;);<br>
  }<br>
  $mode=MCRYPT_MODE_CBC; <br>
  $enc=MCRYPT_RIJNDAEL_128;<br>
  $val=_recaptcha_aes_pad($val);<br>
  return mcrypt_encrypt($enc, $ky, $val, $mode, &quot;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0&quot;);<br>
  }<br>
</p>
<p>function _recaptcha_mailhide_urlbase64 ($x) {<br>
  return strtr(base64_encode ($x), '+/', '-_');<br>
  }</p>
<p>/* gets the reCAPTCHA Mailhide url for a given email, public key and private key */<br>
  function recaptcha_mailhide_url($pubkey, $privkey, $email) {<br>
  if ($pubkey == '' || $pubkey == null || $privkey == &quot;&quot; || $privkey == null) {<br>
  die (&quot;To use reCAPTCHA Mailhide, you have to sign up for a public and private key, &quot; .<br>
  &quot;you can do so at &lt;a href='http://mailhide.recaptcha.net/apikey'&gt;http://mailhide.recaptcha.net/apikey&lt;/a&gt;&quot;);<br>
  }<br>
</p>
<p> $ky = pack('H*', $privkey);<br>
  $cryptmail = _recaptcha_aes_encrypt ($email, $ky);<br>
  <br>
  return &quot;http://mailhide.recaptcha.net/d?k=&quot; . $pubkey . &quot;&amp;c=&quot; . _recaptcha_mailhide_urlbase64 ($cryptmail);<br>
  }</p>
<p>/**<br>
  * gets the parts of the email to expose to the user.<br>
  * eg, given johndoe@example,com return [&quot;john&quot;, &quot;example.com&quot;].<br>
  * the email is then displayed as john...@example.com<br>
  */<br>
  function _recaptcha_mailhide_email_parts ($email) {<br>
  $arr = preg_split(&quot;/@/&quot;, $email );</p>
<p> if (strlen ($arr[0]) &lt;= 4) {<br>
  $arr[0] = substr ($arr[0], 0, 1);<br>
  } else if (strlen ($arr[0]) &lt;= 6) {<br>
  $arr[0] = substr ($arr[0], 0, 3);<br>
  } else {<br>
  $arr[0] = substr ($arr[0], 0, 4);<br>
  }<br>
  return $arr;<br>
  }</p>
<p>/**<br>
  * Gets html to display an email address given a public an private key.<br>
  * to get a key, go to:<br>
  *<br>
  * http://mailhide.recaptcha.net/apikey<br>
  */<br>
  function recaptcha_mailhide_html($pubkey, $privkey, $email) {<br>
  $emailparts = _recaptcha_mailhide_email_parts ($email);<br>
  $url = recaptcha_mailhide_url ($pubkey, $privkey, $email);<br>
  <br>
  return htmlentities($emailparts[0]) . &quot;&lt;a href='&quot; . htmlentities ($url) .<br>
  &quot;' onclick=\&quot;window.open('&quot; . htmlentities ($url) . &quot;', '', 'toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,width=500,height=300'); return false;\&quot; title=\&quot;Reveal this e-mail address\&quot;&gt;...&lt;/a&gt;@&quot; . htmlentities ($emailparts [1]);</p>
<p>}<br>
  ?&gt;</p>

<h3 class="left">5. Summary</h3>

<p align="left">If you want to install recaptcha with php on your website, you must follow these four steps.</p>

<ol type="a">
<li>Generate recaptcha keys - www.recaptcha.net</li>
<li>Generate form html at thesitewizard.com - place form on your webpage</li>
<li>Generate feedback.php at thesitewizard.com - feedback.php in main directory</li>
<li>Get recaptcha.php at www.recaptcha.net - place recaptcha.php in main directory</li>
</ol>

<div align="center"><div class="facebook">

<script src="http://connect.facebook.net/en_US/all.js#xfbml=1"></script><fb:like href="http://www.dlbnn.com/tips-for-installing-recaptcha-with-php.html" show_faces="false" width="450"></fb:like>

</div></div>

<div class="promotion" align="center">

<table class="promo-box">
<tr>
<td class="promo"><a href="http://www.how-to-create-your-first-website.com" target="_blank"><img src="images/how-to-create-your-first-website.jpg" width="240" height="120" title="How To Create Your First Website" alt="How To Create Your First Website" border="1" class="image-border-green"></a><br><a href="http://www.how-to-create-your-first-website.com" target="blank" title="How To Create Your First Website"><font size="1">How To Create Your First Website</font></a></td>
<td class="spacer"></td>
<td class="promo"><a href="http://www.u-making-money-online.com/how-to-make-passive-income-for-life.html" target="_blank"><img src="image/how-to-make-passive-income-for-life.jpg" width="240" height="120" title="How To Make Passive Income For Life" alt="How To Make Passive Income For Life" border="0" class="image-border-green"></a><br><a href="http://www.u-making-money-online.com/how-to-make-passive-income-for-life.html" target="blank" title="How To Make Passive Income For Life"><font size="1">How To Make Passive Income For Life</font></a>
</td>
</tr>
</table>

</div>

<br clear="all">

<div align="center"><div class="social">

<strong>FOLLOW US ON TWITTER & FACEBOOK BY CLICKING ON THE IMAGES BELOW!</strong><br><br>

<a href="http://www.twitter.com/home/?status=Installing+Recaptcha+http://www.dlbnn.com/tips-for-installing-recaptcha-with-php.html" target="_blank" title="Follow Us On Twitter"><img src="images/twitter.jpg" alt="Tips For Installing Recaptcha With Php" title="Follow Us On Twitter" width="30" height="30" border="0"></a>

<a href="http://www.facebook.com/sharer.php/?u=http://www.dlbnn.com/tips-for-installing-recaptcha-with-php.html" target="_blank" title="Follow Us on Facebook"><img src="images/facebook.jpg" alt="Tips For Installing Recaptcha With Php" title="Follow Us On Facebook" width="30" height="30" border="0"></a>

<a href="http://www.dlbnn.com/free-online-articles-directory.xml" target="_blank" title="Subscribe To The RSS FEED"><img src="images/rss-feed-small.jpg" alt="Tips For Installing Recaptcha With Php" title="Subscribe To The RSS FEED" width="30" height="30" border="0"></a>

</div></div>

<br clear="all">

<p align="center"><Font Size="1">
Creating Free Articles And Website Content - Free Articles Directory</Font></p>

<p align="center"><Font Size="1">Designed by <a href="http://www.jc-website-designs.com" target="_blank" title="JC Website Designs - Just Creating Simple Website Designs">www.jc-website-designs.com</a> with <a href="http://www.dlbnn.com/preview/dreamweaver-cs5.php" target="_blank" title="Adobe Dreamweaver CS5">Adobe Dreamweaver</a></Font></p>

</td>

<td class="rightbg" valign="top" rowspan="2">

<p align="center">
<script type="text/javascript"><!--
google_ad_client = "pub-7114978550734342";
/* FOAD VV */
google_ad_slot = "6919060881";
google_ad_width = 120;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></p>

<div align="center"><div class="side-box">

<h3 class="hbg">Related Topics</h3>

<p align="center"><a href="http://www.dlbnn.com/7-habits-of-highly-successful-internet-marketers/7-habits-of-highly-successful-internet-marketers.html" target="_blank">7 Habits of Highly Successful Internet Marketers</a></p>

<p align="center"><a href="http://www.u-making-money-online.com/rules-of-the-rich-and-wealthy.html" target="_blank" title="Rules of the Rich and Wealthy">Why Most People Never Accumulate Wealth</a></p>

<p align="center"><a href="http://www.u-making-money-online.com/learn-how-to-earn-money-online-fast.html" target="_blank" title="Learn How To Earn Money Online Fast">Learn How To Earn Money Online Fast</a></p>


<p align="center"><a href="http://www.u-making-money-online.com/secure-your-financial-future.html" target="_blank" title="Secure Your Financial Future - Bulletproof Your Financial Future">Ways To Secure Your Financial Future</a></p>

<p align="center"><a href="http://www.u-making-money-online.com/how-to-create-a-website-for-beginners.html" target="_blank" title="Making Money Online">How To Make Money Online</a></p>

<p align="center"><a href="http://www.u-making-money-online.com/how-to-become-rich-and-wealthy.html" target="_blank" title="How To Become Rich And Wealthy">How To Become Rich And Wealthy</a></p>

</div></div>

</td>
</tr>

<tr>
<td class="leftbg" valign="top">

<div align="center"><div id="navigator">
            <h3 class="hbg">Site Navigation</h3>
            
             <span class="housebutton"><a href="index.html">Homepage</a></span>
             <span class="housebutton"><a href="free-business-articles.html">Free Business Articles</a></span>
             <span class="housebutton"><a href="free-computer-articles.html">Free Computer Articles</a></span>
             <span class="housebutton"><a href="free-educational-articles.html">Free Educational Articles</a></span>
             <span class="housebutton"><a href="free-hobbies-articles.html">Free Hobbies Articles</a></span>
             <span class="housebutton"><a href="free-internet-articles.html">Free Internet Articles</a></span>
             <span class="housebutton"><a href="free-religious-articles.html">Free Religious Articles</a></span>
             <span class="housebutton"><a href="free-technology-articles.html">Free Technology Articles</a></span>
             <span class="housebutton"><a href="free-travel-articles.html">Free Travel Articles</a></span>
             <span class="housebutton"><a href="free-writing-articles.html">Free Writing Articles</a></span>
             <span class="housebutton"><a href="free-real-estate-articles.html">Free Real Estate Articles</a></span>
            
            
             </div></div>
             
<br clear="all">

<div align="center"><div class="side-box">

<h3 class="hbg">More Articles</h3>

<p align="center"><a href="http://www.u-making-money-online.com/increase-website-traffic-ideas.html" target="_blank" title="Increase Website Traffic Ideas">Increase Website Traffic Ideas</a></p>

<p align="center"><a href="http://www.u-making-money-online.com/how-to-make-money-online-with-google-adsense.html" target="_blank" title="How I Make Money Online With Google Adsense">How I Make Money Online With Google Adsense</a></p>

<p align="center"><a href="http://www.u-making-money-online.com/reputable-affiliate-programs-for-novice.html" target="_blank" title="How I Make Money Online With Affiliate Marketing">How I Make Money Online With Affiliate Marketing</a></p>


<p align="center"><a href="http://www.umakingmoneyonline.com" target="_blank" title="Learn How To Build A Successful Web Business">Learn How To Build A Successful Web Business</a></p>

<p align="center"><a href="http://www.umakingmoneyonline.com" target="_blank" title="Learn How To Build A One Page Website">Learn How To Build A One Page Website</a></p>

<p align="center"><a href="http://www.jc-website-designs.com" target="_blank" title="Creating Simple Website Designed Templates">Creating Simple Website Design Templates</a></p>

<p align="center"><a href="http://www.free-website-design-software.com" target="_blank" title="Free Website Design Software">Free Website Design Software</a></p>

<p align="center"><a href="http://www.online-article-marketing-directory.com/chicken-coop-building-plans-review.html" target="_blank" title="Chicken Coop Building Plans Review">Chicken Coop Building Plans Review</a></p>

<p align="center"><a href="http://www.rainbow-beach-holidays.com/fraser-island-camping-grounds.html" target="_blank" title="Fraser Island Camping Grounds">Fraser Island Camping Grounds</a></p>

</div></div>

</td>
</tr>

<tr >
<td class="footerbg" colspan ="3">

<div align="center">
<font size="-1"><a href="index.html"> Homepage</a> | <a href="free-business-articles.html">Free Business Articles</a> | <a href="free-computer-articles.html">Free Computer Articles</a> | <a href="free-educational-articles.html">Free Educational Articles</a> | <a href="free-hobbies-articles.html">Free Hobbies Articles</a><br><a href="free-internet-articles.html">Free Internet Articles</a> | <a href="free-religious-articles.html">Free Religious Articles</a> | <a href="free-technology-articles.html">Free Technology Articles</a> | <a href="free-travel-articles.html">Free Travel Articles</a> <br><a href="free-writing-articles.html">Free Writing Articles</a> | <a href="free-website-design-software.html">Free Website Design Software</a> | <a href="free-website-keyword-tools.html">Free Website Keyword Tools</a><br><a href="terms-of-use.html">Terms of Use</a></font>
<br clear="all">
<br clear="all">


<a href="#top"> Return to top </a>   </div>
</td>
</tr>


<tr><td class="copyright" colspan="3">


Copyright &copy; 2009 - 2011 All Rights Reserved<br>
www.dlbnn.com<br>
Free Online Articles Directory Website<br>
Tips For Installing Recaptcha With Php

</td></tr>
</table>


</body>

</html>
